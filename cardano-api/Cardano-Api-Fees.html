<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head id="head" data-base-url=".."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cardano.Api.Fees</title><link href="../linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="../quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="../haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cardano-api-8.35.0.0: The cardano api</span><ul class="links" id="page-menu"><li id="quick-jump-button"><a href="#">Quick Jump</a></li><li><a href="src/Cardano.Api.Fees.html">Source</a></li><li><a href="../index.html">Contents</a></li><li><a href="../doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.Api.Fees</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Transaction fees</a></li><li><a href="#g:2">Script execution units</a></li><li><a href="#g:3">Transaction balance</a></li><li><a href="#g:4">Automated transaction building</a></li><li><a href="#g:5">Minimum UTxO calculation</a></li><li><a href="#g:6">Internal helpers</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Fee calculation</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:transactionFee">transactionFee</a> :: <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era -&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a> -&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a> -&gt; <a href="Cardano-Api-Tx.html#t:Tx" title="Cardano.Api.Tx">Tx</a> era -&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></li><li class="src short"><a href="#v:estimateTransactionFee">estimateTransactionFee</a> :: <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era -&gt; <a href="Cardano-Api-NetworkId.html#t:NetworkId" title="Cardano.Api.NetworkId">NetworkId</a> -&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a> -&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a> -&gt; <a href="Cardano-Api-Tx.html#t:Tx" title="Cardano.Api.Tx">Tx</a> era -&gt; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></li><li class="src short"><a href="#v:evaluateTransactionFee">evaluateTransactionFee</a> :: <span class="keyword">forall</span> era. <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era -&gt; <a href="Cardano-Api-ReexposeLedger.html#t:PParams" title="Cardano.Api.ReexposeLedger">PParams</a> (<a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyLedgerEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyLedgerEra</a> era) -&gt; <a href="Cardano-Api-TxBody.html#t:TxBody" title="Cardano.Api.TxBody">TxBody</a> era -&gt; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></li><li class="src short"><a href="#v:estimateTransactionKeyWitnessCount">estimateTransactionKeyWitnessCount</a> :: <a href="Cardano-Api-TxBody.html#t:TxBodyContent" title="Cardano.Api.TxBody">TxBodyContent</a> <a href="Cardano-Api-TxBody.html#t:BuildTx" title="Cardano.Api.TxBody">BuildTx</a> era -&gt; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li class="src short"><a href="#v:evaluateTransactionExecutionUnits">evaluateTransactionExecutionUnits</a> :: <span class="keyword">forall</span> era. <a href="Cardano-Api-Eras-Core.html#t:CardanoEra" title="Cardano.Api.Eras.Core">CardanoEra</a> era -&gt; <a href="Cardano-Api-Query.html#t:SystemStart" title="Cardano.Api.Query">SystemStart</a> -&gt; <a href="Cardano-Api-Query.html#t:LedgerEpochInfo" title="Cardano.Api.Query">LedgerEpochInfo</a> -&gt; <a href="Cardano-Api-ProtocolParameters.html#t:LedgerProtocolParameters" title="Cardano.Api.ProtocolParameters">LedgerProtocolParameters</a> era -&gt; <a href="Cardano-Api-Query.html#t:UTxO" title="Cardano.Api.Query">UTxO</a> era -&gt; <a href="Cardano-Api-TxBody.html#t:TxBody" title="Cardano.Api.TxBody">TxBody</a> era -&gt; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Api-Fees.html#t:TransactionValidityError" title="Cardano.Api.Fees">TransactionValidityError</a> (<a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a> (<a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Api-Fees.html#t:ScriptExecutionError" title="Cardano.Api.Fees">ScriptExecutionError</a> <a href="Cardano-Api-Script.html#t:ExecutionUnits" title="Cardano.Api.Script">ExecutionUnits</a>))</li><li class="src short"><span class="keyword">data</span> <a href="#t:ScriptExecutionError">ScriptExecutionError</a><ul class="subs"><li>= <a href="#v:ScriptErrorMissingTxIn">ScriptErrorMissingTxIn</a> <a href="Cardano-Api-TxIn.html#t:TxIn" title="Cardano.Api.TxIn">TxIn</a></li><li>| <a href="#v:ScriptErrorTxInWithoutDatum">ScriptErrorTxInWithoutDatum</a> <a href="Cardano-Api-TxIn.html#t:TxIn" title="Cardano.Api.TxIn">TxIn</a></li><li>| <a href="#v:ScriptErrorWrongDatum">ScriptErrorWrongDatum</a> (<a href="Cardano-Api-Hash.html#t:Hash" title="Cardano.Api.Hash">Hash</a> <a href="Cardano-Api-ScriptData.html#t:ScriptData" title="Cardano.Api.ScriptData">ScriptData</a>)</li><li>| <a href="#v:ScriptErrorEvaluationFailed">ScriptErrorEvaluationFailed</a> <a href="../plutus-ledger-api/PlutusLedgerApi-Common-Eval.html#t:EvaluationError" title="PlutusLedgerApi.Common.Eval">EvaluationError</a> [Text]</li><li>| <a href="#v:ScriptErrorExecutionUnitsOverflow">ScriptErrorExecutionUnitsOverflow</a></li><li>| <a href="#v:ScriptErrorNotPlutusWitnessedTxIn">ScriptErrorNotPlutusWitnessedTxIn</a> <a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a> <a href="Cardano-Api-Script.html#t:ScriptHash" title="Cardano.Api.Script">ScriptHash</a></li><li>| <a href="#v:ScriptErrorRedeemerPointsToUnknownScriptHash">ScriptErrorRedeemerPointsToUnknownScriptHash</a> <a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a></li><li>| <a href="#v:ScriptErrorMissingScript">ScriptErrorMissingScript</a> <a href="../cardano-ledger-alonzo/Cardano-Ledger-Alonzo-TxWits.html#t:RdmrPtr" title="Cardano.Ledger.Alonzo.TxWits">RdmrPtr</a> <a href="Cardano-Api-Fees.html#t:ResolvablePointers" title="Cardano.Api.Fees">ResolvablePointers</a></li><li>| <a href="#v:ScriptErrorMissingCostModel">ScriptErrorMissingCostModel</a> <a href="../cardano-ledger-core/Cardano-Ledger-Plutus-Language.html#t:Language" title="Cardano.Ledger.Plutus.Language">Language</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:TransactionValidityError">TransactionValidityError</a><ul class="subs"><li>= <a href="#v:TransactionValidityIntervalError">TransactionValidityIntervalError</a> <a href="../ouroboros-consensus/Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a></li><li>| <a href="#v:TransactionValidityTranslationError">TransactionValidityTranslationError</a> (<a href="../cardano-ledger-alonzo/Cardano-Ledger-Alonzo-Plutus-TxInfo.html#t:TranslationError" title="Cardano.Ledger.Alonzo.Plutus.TxInfo">TranslationError</a> <a href="Cardano-Api-ReexposeLedger.html#t:StandardCrypto" title="Cardano.Api.ReexposeLedger">StandardCrypto</a>)</li><li>| <a href="#v:TransactionValidityCostModelError">TransactionValidityCostModelError</a> (<a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="Cardano-Api-Script.html#t:AnyPlutusScriptVersion" title="Cardano.Api.Script">AnyPlutusScriptVersion</a> <a href="Cardano-Api-ProtocolParameters.html#t:CostModel" title="Cardano.Api.ProtocolParameters">CostModel</a>) <a href="../base/Data-String.html#t:String" title="Data.String">String</a></li></ul></li><li class="src short"><a href="#v:evaluateTransactionBalance">evaluateTransactionBalance</a> :: <span class="keyword">forall</span> era. <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era -&gt; <a href="Cardano-Api-ReexposeLedger.html#t:PParams" title="Cardano.Api.ReexposeLedger">PParams</a> (<a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyLedgerEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyLedgerEra</a> era) -&gt; Set <a href="Cardano-Api-Certificate.html#t:PoolId" title="Cardano.Api.Certificate">PoolId</a> -&gt; <a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="Cardano-Api-Address.html#t:StakeCredential" title="Cardano.Api.Address">StakeCredential</a> <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a> -&gt; <a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> (<a href="Cardano-Api-ReexposeLedger.html#t:Credential" title="Cardano.Api.ReexposeLedger">Credential</a> <a href="Cardano-Api-ReexposeLedger.html#v:DRepRole" title="Cardano.Api.ReexposeLedger">DRepRole</a> <a href="Cardano-Api-ReexposeLedger.html#t:StandardCrypto" title="Cardano.Api.ReexposeLedger">StandardCrypto</a>) <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a> -&gt; <a href="Cardano-Api-Query.html#t:UTxO" title="Cardano.Api.Query">UTxO</a> era -&gt; <a href="Cardano-Api-TxBody.html#t:TxBody" title="Cardano.Api.TxBody">TxBody</a> era -&gt; <a href="Cardano-Api-TxBody.html#t:TxOutValue" title="Cardano.Api.TxBody">TxOutValue</a> era</li><li class="src short"><a href="#v:makeTransactionBodyAutoBalance">makeTransactionBodyAutoBalance</a> :: <span class="keyword">forall</span> era. <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era -&gt; <a href="Cardano-Api-Query.html#t:SystemStart" title="Cardano.Api.Query">SystemStart</a> -&gt; <a href="Cardano-Api-Query.html#t:LedgerEpochInfo" title="Cardano.Api.Query">LedgerEpochInfo</a> -&gt; <a href="Cardano-Api-ProtocolParameters.html#t:LedgerProtocolParameters" title="Cardano.Api.ProtocolParameters">LedgerProtocolParameters</a> era -&gt; Set <a href="Cardano-Api-Certificate.html#t:PoolId" title="Cardano.Api.Certificate">PoolId</a> -&gt; <a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="Cardano-Api-Address.html#t:StakeCredential" title="Cardano.Api.Address">StakeCredential</a> <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a> -&gt; <a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> (<a href="Cardano-Api-ReexposeLedger.html#t:Credential" title="Cardano.Api.ReexposeLedger">Credential</a> <a href="Cardano-Api-ReexposeLedger.html#v:DRepRole" title="Cardano.Api.ReexposeLedger">DRepRole</a> <a href="Cardano-Api-ReexposeLedger.html#t:StandardCrypto" title="Cardano.Api.ReexposeLedger">StandardCrypto</a>) <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a> -&gt; <a href="Cardano-Api-Query.html#t:UTxO" title="Cardano.Api.Query">UTxO</a> era -&gt; <a href="Cardano-Api-TxBody.html#t:TxBodyContent" title="Cardano.Api.TxBody">TxBodyContent</a> <a href="Cardano-Api-TxBody.html#t:BuildTx" title="Cardano.Api.TxBody">BuildTx</a> era -&gt; <a href="Cardano-Api-Address.html#t:AddressInEra" title="Cardano.Api.Address">AddressInEra</a> era -&gt; <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Api-Fees.html#t:TxBodyErrorAutoBalance" title="Cardano.Api.Fees">TxBodyErrorAutoBalance</a> (<a href="Cardano-Api-Fees.html#t:BalancedTxBody" title="Cardano.Api.Fees">BalancedTxBody</a> era)</li><li class="src short"><span class="keyword">data</span> <a href="#t:BalancedTxBody">BalancedTxBody</a> era = <a href="#v:BalancedTxBody">BalancedTxBody</a> (<a href="Cardano-Api-TxBody.html#t:TxBodyContent" title="Cardano.Api.TxBody">TxBodyContent</a> <a href="Cardano-Api-TxBody.html#t:BuildTx" title="Cardano.Api.TxBody">BuildTx</a> era) (<a href="Cardano-Api-TxBody.html#t:TxBody" title="Cardano.Api.TxBody">TxBody</a> era) (<a href="Cardano-Api-TxBody.html#t:TxOut" title="Cardano.Api.TxBody">TxOut</a> <a href="Cardano-Api-TxBody.html#t:CtxTx" title="Cardano.Api.TxBody">CtxTx</a> era) <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:TxBodyErrorAutoBalance">TxBodyErrorAutoBalance</a><ul class="subs"><li>= <a href="#v:TxBodyError">TxBodyError</a> <a href="Cardano-Api-TxBody.html#t:TxBodyError" title="Cardano.Api.TxBody">TxBodyError</a></li><li>| <a href="#v:TxBodyScriptExecutionError">TxBodyScriptExecutionError</a> [(<a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a>, <a href="Cardano-Api-Fees.html#t:ScriptExecutionError" title="Cardano.Api.Fees">ScriptExecutionError</a>)]</li><li>| <a href="#v:TxBodyScriptBadScriptValidity">TxBodyScriptBadScriptValidity</a></li><li>| <a href="#v:TxBodyErrorAdaBalanceNegative">TxBodyErrorAdaBalanceNegative</a> <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></li><li>| <a href="#v:TxBodyErrorAdaBalanceTooSmall">TxBodyErrorAdaBalanceTooSmall</a> <a href="Cardano-Api-TxBody.html#t:TxOutInAnyEra" title="Cardano.Api.TxBody">TxOutInAnyEra</a> <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a> <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></li><li>| <a href="#v:TxBodyErrorByronEraNotSupported">TxBodyErrorByronEraNotSupported</a></li><li>| <a href="#v:TxBodyErrorMissingParamMinUTxO">TxBodyErrorMissingParamMinUTxO</a></li><li>| <a href="#v:TxBodyErrorValidityInterval">TxBodyErrorValidityInterval</a> <a href="Cardano-Api-Fees.html#t:TransactionValidityError" title="Cardano.Api.Fees">TransactionValidityError</a></li><li>| <a href="#v:TxBodyErrorMinUTxONotMet">TxBodyErrorMinUTxONotMet</a> <a href="Cardano-Api-TxBody.html#t:TxOutInAnyEra" title="Cardano.Api.TxBody">TxOutInAnyEra</a> <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></li><li>| <a href="#v:TxBodyErrorNonAdaAssetsUnbalanced">TxBodyErrorNonAdaAssetsUnbalanced</a> <a href="Cardano-Api-Value.html#t:Value" title="Cardano.Api.Value">Value</a></li><li>| <a href="#v:TxBodyErrorScriptWitnessIndexMissingFromExecUnitsMap">TxBodyErrorScriptWitnessIndexMissingFromExecUnitsMap</a> <a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a> (<a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a> <a href="Cardano-Api-Script.html#t:ExecutionUnits" title="Cardano.Api.Script">ExecutionUnits</a>)</li></ul></li><li class="src short"><a href="#v:calculateMinimumUTxO">calculateMinimumUTxO</a> :: <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era -&gt; <a href="Cardano-Api-TxBody.html#t:TxOut" title="Cardano.Api.TxBody">TxOut</a> <a href="Cardano-Api-TxBody.html#t:CtxTx" title="Cardano.Api.TxBody">CtxTx</a> era -&gt; <a href="Cardano-Api-ReexposeLedger.html#t:PParams" title="Cardano.Api.ReexposeLedger">PParams</a> (<a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyLedgerEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyLedgerEra</a> era) -&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></li><li class="src short"><a href="#v:mapTxScriptWitnesses">mapTxScriptWitnesses</a> :: <span class="keyword">forall</span> era. (<span class="keyword">forall</span> witctx. <a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a> -&gt; <a href="Cardano-Api-Script.html#t:ScriptWitness" title="Cardano.Api.Script">ScriptWitness</a> witctx era -&gt; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Api-Fees.html#t:TxBodyErrorAutoBalance" title="Cardano.Api.Fees">TxBodyErrorAutoBalance</a> (<a href="Cardano-Api-Script.html#t:ScriptWitness" title="Cardano.Api.Script">ScriptWitness</a> witctx era)) -&gt; <a href="Cardano-Api-TxBody.html#t:TxBodyContent" title="Cardano.Api.TxBody">TxBodyContent</a> <a href="Cardano-Api-TxBody.html#t:BuildTx" title="Cardano.Api.TxBody">BuildTx</a> era -&gt; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Api-Fees.html#t:TxBodyErrorAutoBalance" title="Cardano.Api.Fees">TxBodyErrorAutoBalance</a> (<a href="Cardano-Api-TxBody.html#t:TxBodyContent" title="Cardano.Api.TxBody">TxBodyContent</a> <a href="Cardano-Api-TxBody.html#t:BuildTx" title="Cardano.Api.TxBody">BuildTx</a> era)</li><li class="src short"><span class="keyword">data</span> <a href="#t:ResolvablePointers">ResolvablePointers</a> <span class="keyword">where</span><ul class="subs"><li><a href="#v:ResolvablePointers">ResolvablePointers</a> :: (<a href="../cardano-ledger-api/Cardano-Ledger-Api-Era.html#t:Era" title="Cardano.Ledger.Api.Era">Era</a> (<a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyLedgerEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyLedgerEra</a> era), <a href="../base/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Cardano-Api-ReexposeLedger.html#t:TxCert" title="Cardano.Api.ReexposeLedger">TxCert</a> (<a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyLedgerEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyLedgerEra</a> era))) =&gt; <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era -&gt; <a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="../cardano-ledger-alonzo/Cardano-Ledger-Alonzo-TxWits.html#t:RdmrPtr" title="Cardano.Ledger.Alonzo.TxWits">RdmrPtr</a> (<a href="../cardano-ledger-alonzo/Cardano-Ledger-Alonzo-Tx.html#t:ScriptPurpose" title="Cardano.Ledger.Alonzo.Tx">ScriptPurpose</a> (<a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyLedgerEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyLedgerEra</a> era), <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (PlutusScriptBytes, <a href="../cardano-ledger-core/Cardano-Ledger-Plutus-Language.html#t:Language" title="Cardano.Ledger.Plutus.Language">Language</a>), <a href="../cardano-ledger-api/Cardano-Ledger-Api-Scripts.html#t:ScriptHash" title="Cardano.Ledger.Api.Scripts">ScriptHash</a> <a href="Cardano-Api-ReexposeLedger.html#t:StandardCrypto" title="Cardano.Api.ReexposeLedger">StandardCrypto</a>) -&gt; <a href="Cardano-Api-Fees.html#t:ResolvablePointers" title="Cardano.Api.Fees">ResolvablePointers</a></li></ul></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Transaction fees</h1></a><div class="top"><p class="src"><a id="v:transactionFee" class="def">transactionFee</a> <a href="src/Cardano.Api.Fees.html#transactionFee" class="link">Source</a> <a href="#v:transactionFee" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></td><td class="doc"><p>The fixed tx fee</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></td><td class="doc"><p>The tx fee per byte</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-Tx.html#t:Tx" title="Cardano.Api.Tx">Tx</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><div class="warning"><p>Deprecated: Use <code><a href="Cardano-Api-Fees.html#v:evaluateTransactionFee" title="Cardano.Api.Fees">evaluateTransactionFee</a></code> instead</p></div><p>For a concrete fully-constructed transaction, determine the minimum fee
 that it needs to pay.</p><p>This function is simple, but if you are doing input selection then you
 probably want to consider estimateTransactionFee.</p></div></div><div class="top"><p class="src"><a id="v:estimateTransactionFee" class="def">estimateTransactionFee</a> <a href="src/Cardano.Api.Fees.html#estimateTransactionFee" class="link">Source</a> <a href="#v:estimateTransactionFee" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-NetworkId.html#t:NetworkId" title="Cardano.Api.NetworkId">NetworkId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></td><td class="doc"><p>The fixed tx fee</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></td><td class="doc"><p>The tx fee per byte</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-Tx.html#t:Tx" title="Cardano.Api.Tx">Tx</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>The number of extra UTxO transaction inputs</p></td></tr><tr><td class="src">-&gt; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>The number of extra transaction outputs</p></td></tr><tr><td class="src">-&gt; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>The number of extra Shelley key witnesses</p></td></tr><tr><td class="src">-&gt; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>The number of extra Byron key witnesses</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>This can estimate what the transaction fee will be, based on a starting
 base transaction, plus the numbers of the additional components of the
 transaction that may be added.</p><p>So for example with wallet coin selection, the base transaction should
 contain all the things not subject to coin selection (such as script inputs,
 metadata, withdrawals, certs etc)</p></div></div><div class="top"><p class="src"><a id="v:evaluateTransactionFee" class="def">evaluateTransactionFee</a> <a href="src/Cardano.Api.Fees.html#evaluateTransactionFee" class="link">Source</a> <a href="#v:evaluateTransactionFee" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> era. <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-ReexposeLedger.html#t:PParams" title="Cardano.Api.ReexposeLedger">PParams</a> (<a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyLedgerEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyLedgerEra</a> era)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-TxBody.html#t:TxBody" title="Cardano.Api.TxBody">TxBody</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc"><p>The number of Shelley key witnesses</p></td></tr><tr><td class="src">-&gt; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc"><p>The number of Byron key witnesses</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Compute the transaction fee for a proposed transaction, with the
 assumption that there will be the given number of key witnesses (i.e.
 signatures).</p><p>TODO: we need separate args for Shelley vs Byron key sigs</p></div></div><div class="top"><p class="src"><a id="v:estimateTransactionKeyWitnessCount" class="def">estimateTransactionKeyWitnessCount</a> :: <a href="Cardano-Api-TxBody.html#t:TxBodyContent" title="Cardano.Api.TxBody">TxBodyContent</a> <a href="Cardano-Api-TxBody.html#t:BuildTx" title="Cardano.Api.TxBody">BuildTx</a> era -&gt; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="src/Cardano.Api.Fees.html#estimateTransactionKeyWitnessCount" class="link">Source</a> <a href="#v:estimateTransactionKeyWitnessCount" class="selflink">#</a></p><div class="doc"><p>Give an approximate count of the number of key witnesses (i.e. signatures)
 a transaction will need.</p><p>This is an estimate not a precise count in that it can over-estimate: it
 makes conservative assumptions such as all inputs are from distinct
 addresses, but in principle multiple inputs can use the same address and we
 only need a witness per address.</p><p>Similarly there can be overlap between the regular and collateral inputs,
 but we conservatively assume they are distinct.</p><p>TODO: it is worth us considering a more precise count that relies on the
 UTxO to resolve which inputs are for distinct addresses, and also to count
 the number of Shelley vs Byron style witnesses.</p></div></div><a href="#g:2" id="g:2"><h1>Script execution units</h1></a><div class="top"><p class="src"><a id="v:evaluateTransactionExecutionUnits" class="def">evaluateTransactionExecutionUnits</a> :: <span class="keyword">forall</span> era. <a href="Cardano-Api-Eras-Core.html#t:CardanoEra" title="Cardano.Api.Eras.Core">CardanoEra</a> era -&gt; <a href="Cardano-Api-Query.html#t:SystemStart" title="Cardano.Api.Query">SystemStart</a> -&gt; <a href="Cardano-Api-Query.html#t:LedgerEpochInfo" title="Cardano.Api.Query">LedgerEpochInfo</a> -&gt; <a href="Cardano-Api-ProtocolParameters.html#t:LedgerProtocolParameters" title="Cardano.Api.ProtocolParameters">LedgerProtocolParameters</a> era -&gt; <a href="Cardano-Api-Query.html#t:UTxO" title="Cardano.Api.Query">UTxO</a> era -&gt; <a href="Cardano-Api-TxBody.html#t:TxBody" title="Cardano.Api.TxBody">TxBody</a> era -&gt; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Api-Fees.html#t:TransactionValidityError" title="Cardano.Api.Fees">TransactionValidityError</a> (<a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a> (<a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Api-Fees.html#t:ScriptExecutionError" title="Cardano.Api.Fees">ScriptExecutionError</a> <a href="Cardano-Api-Script.html#t:ExecutionUnits" title="Cardano.Api.Script">ExecutionUnits</a>)) <a href="src/Cardano.Api.Fees.html#evaluateTransactionExecutionUnits" class="link">Source</a> <a href="#v:evaluateTransactionExecutionUnits" class="selflink">#</a></p><div class="doc"><p>Compute the <code><a href="Cardano-Api-Script.html#t:ExecutionUnits" title="Cardano.Api.Script">ExecutionUnits</a></code> needed for each script in the transaction.</p><p>This works by running all the scripts and counting how many execution units
 are actually used.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ScriptExecutionError" class="def">ScriptExecutionError</a> <a href="src/Cardano.Api.Fees.html#ScriptExecutionError" class="link">Source</a> <a href="#t:ScriptExecutionError" class="selflink">#</a></p><div class="doc"><p>The different possible reasons that executing a script can fail,
 as reported by <code><a href="Cardano-Api-Fees.html#v:evaluateTransactionExecutionUnits" title="Cardano.Api.Fees">evaluateTransactionExecutionUnits</a></code>.</p><p>The first three of these are about failures before we even get to execute
 the script, and two are the result of execution.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ScriptErrorMissingTxIn" class="def">ScriptErrorMissingTxIn</a> <a href="Cardano-Api-TxIn.html#t:TxIn" title="Cardano.Api.TxIn">TxIn</a></td><td class="doc"><p>The script depends on a <code><a href="Cardano-Api-TxIn.html#t:TxIn" title="Cardano.Api.TxIn">TxIn</a></code> that has not been provided in the
 given <code><a href="Cardano-Api-Query.html#t:UTxO" title="Cardano.Api.Query">UTxO</a></code> subset. The given <code><a href="Cardano-Api-Query.html#t:UTxO" title="Cardano.Api.Query">UTxO</a></code> must cover all the inputs
 the transaction references.</p></td></tr><tr><td class="src"><a id="v:ScriptErrorTxInWithoutDatum" class="def">ScriptErrorTxInWithoutDatum</a> <a href="Cardano-Api-TxIn.html#t:TxIn" title="Cardano.Api.TxIn">TxIn</a></td><td class="doc"><p>The <code><a href="Cardano-Api-TxIn.html#t:TxIn" title="Cardano.Api.TxIn">TxIn</a></code> the script is spending does not have a <code><a href="Cardano-Api-Script.html#t:ScriptDatum" title="Cardano.Api.Script">ScriptDatum</a></code>.
 All inputs guarded by Plutus scripts need to have been created with
 a <code><a href="Cardano-Api-Script.html#t:ScriptDatum" title="Cardano.Api.Script">ScriptDatum</a></code>.</p></td></tr><tr><td class="src"><a id="v:ScriptErrorWrongDatum" class="def">ScriptErrorWrongDatum</a> (<a href="Cardano-Api-Hash.html#t:Hash" title="Cardano.Api.Hash">Hash</a> <a href="Cardano-Api-ScriptData.html#t:ScriptData" title="Cardano.Api.ScriptData">ScriptData</a>)</td><td class="doc"><p>The <code><a href="Cardano-Api-Script.html#t:ScriptDatum" title="Cardano.Api.Script">ScriptDatum</a></code> provided does not match the one from the <code><a href="Cardano-Api-Query.html#t:UTxO" title="Cardano.Api.Query">UTxO</a></code>.
 This means the wrong <code><a href="Cardano-Api-Script.html#t:ScriptDatum" title="Cardano.Api.Script">ScriptDatum</a></code> value has been provided.</p></td></tr><tr><td class="src"><a id="v:ScriptErrorEvaluationFailed" class="def">ScriptErrorEvaluationFailed</a> <a href="../plutus-ledger-api/PlutusLedgerApi-Common-Eval.html#t:EvaluationError" title="PlutusLedgerApi.Common.Eval">EvaluationError</a> [Text]</td><td class="doc"><p>The script evaluation failed. This usually means it evaluated to an
 error value. This is not a case of running out of execution units
 (which is not possible for <code><a href="Cardano-Api-Fees.html#v:evaluateTransactionExecutionUnits" title="Cardano.Api.Fees">evaluateTransactionExecutionUnits</a></code> since
 the whole point of it is to discover how many execution units are
 needed).</p></td></tr><tr><td class="src"><a id="v:ScriptErrorExecutionUnitsOverflow" class="def">ScriptErrorExecutionUnitsOverflow</a></td><td class="doc"><p>The execution units overflowed a 64bit word. Congratulations if
 you encounter this error. With the current style of cost model this
 would need a script to run for over 7 months, which is somewhat more
 than the expected maximum of a few milliseconds.</p></td></tr><tr><td class="src"><a id="v:ScriptErrorNotPlutusWitnessedTxIn" class="def">ScriptErrorNotPlutusWitnessedTxIn</a> <a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a> <a href="Cardano-Api-Script.html#t:ScriptHash" title="Cardano.Api.Script">ScriptHash</a></td><td class="doc"><p>An attempt was made to spend a key witnessed tx input
 with a script witness.</p></td></tr><tr><td class="src"><a id="v:ScriptErrorRedeemerPointsToUnknownScriptHash" class="def">ScriptErrorRedeemerPointsToUnknownScriptHash</a> <a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a></td><td class="doc"><p>The redeemer pointer points to a script hash that does not exist
 in the transaction nor in the UTxO as a reference script&quot;</p></td></tr><tr><td class="src"><a id="v:ScriptErrorMissingScript" class="def">ScriptErrorMissingScript</a> <a href="../cardano-ledger-alonzo/Cardano-Ledger-Alonzo-TxWits.html#t:RdmrPtr" title="Cardano.Ledger.Alonzo.TxWits">RdmrPtr</a> <a href="Cardano-Api-Fees.html#t:ResolvablePointers" title="Cardano.Api.Fees">ResolvablePointers</a></td><td class="doc"><p>A redeemer pointer points to a script that does not exist.</p></td></tr><tr><td class="src"><a id="v:ScriptErrorMissingCostModel" class="def">ScriptErrorMissingCostModel</a> <a href="../cardano-ledger-core/Cardano-Ledger-Plutus-Language.html#t:Language" title="Cardano.Ledger.Plutus.Language">Language</a></td><td class="doc"><p>A cost model was missing for a language which was used.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ScriptExecutionError">Instances</h4><details id="i:ScriptExecutionError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ScriptExecutionError:Show:1"></span> <a href="../base/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Cardano-Api-Fees.html#t:ScriptExecutionError" title="Cardano.Api.Fees">ScriptExecutionError</a></span> <a href="src/Cardano.Api.Fees.html#line-343" class="link">Source</a> <a href="#t:ScriptExecutionError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ScriptExecutionError:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Api-Fees.html">Cardano.Api.Fees</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-Api-Fees.html#t:ScriptExecutionError" title="Cardano.Api.Fees">ScriptExecutionError</a> -&gt; <a href="../base/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/2afgrvfg7h495x5v3dbkfx469phrchkg-ghc-9.6.2-doc/share/doc/ghc-9.6.2/html/libraries/base-4.18.0.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cardano-Api-Fees.html#t:ScriptExecutionError" title="Cardano.Api.Fees">ScriptExecutionError</a> -&gt; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/2afgrvfg7h495x5v3dbkfx469phrchkg-ghc-9.6.2-doc/share/doc/ghc-9.6.2/html/libraries/base-4.18.0.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cardano-Api-Fees.html#t:ScriptExecutionError" title="Cardano.Api.Fees">ScriptExecutionError</a>] -&gt; <a href="../base/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/2afgrvfg7h495x5v3dbkfx469phrchkg-ghc-9.6.2-doc/share/doc/ghc-9.6.2/html/libraries/base-4.18.0.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ScriptExecutionError:Error:2"></span> <a href="Cardano-Api-Error.html#t:Error" title="Cardano.Api.Error">Error</a> <a href="Cardano-Api-Fees.html#t:ScriptExecutionError" title="Cardano.Api.Fees">ScriptExecutionError</a></span> <a href="src/Cardano.Api.Fees.html#line-345" class="link">Source</a> <a href="#t:ScriptExecutionError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ScriptExecutionError:Error:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Api-Fees.html">Cardano.Api.Fees</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:prettyError">prettyError</a> :: <a href="Cardano-Api-Fees.html#t:ScriptExecutionError" title="Cardano.Api.Fees">ScriptExecutionError</a> -&gt; <a href="Cardano-Api-Pretty.html#t:Doc" title="Cardano.Api.Pretty">Doc</a> ann <a href="src/Cardano.Api.Error.html#prettyError" class="link">Source</a> <a href="#v:prettyError" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TransactionValidityError" class="def">TransactionValidityError</a> <a href="src/Cardano.Api.Fees.html#TransactionValidityError" class="link">Source</a> <a href="#t:TransactionValidityError" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TransactionValidityIntervalError" class="def">TransactionValidityIntervalError</a> <a href="../ouroboros-consensus/Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a></td><td class="doc"><p>The transaction validity interval is too far into the future.</p><p>Transactions with Plutus scripts need to have a validity interval that is
 not so far in the future that we cannot reliably determine the UTC time
 corresponding to the validity interval expressed in slot numbers.</p><p>This is because the Plutus scripts get given the transaction validity
 interval in UTC time, so that they are not sensitive to slot lengths.</p><p>If either end of the validity interval is beyond the so called &quot;time
 horizon&quot; then the consensus algorithm is not able to reliably determine
 the relationship between slots and time. This is this situation in which
 this error is reported. For the Cardano mainnet the time horizon is 36
 hours beyond the current time. This effectively means we cannot submit
 check or submit transactions that use Plutus scripts that have the end
 of their validity interval more than 36 hours into the future.</p></td></tr><tr><td class="src"><a id="v:TransactionValidityTranslationError" class="def">TransactionValidityTranslationError</a> (<a href="../cardano-ledger-alonzo/Cardano-Ledger-Alonzo-Plutus-TxInfo.html#t:TranslationError" title="Cardano.Ledger.Alonzo.Plutus.TxInfo">TranslationError</a> <a href="Cardano-Api-ReexposeLedger.html#t:StandardCrypto" title="Cardano.Api.ReexposeLedger">StandardCrypto</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TransactionValidityCostModelError" class="def">TransactionValidityCostModelError</a> (<a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="Cardano-Api-Script.html#t:AnyPlutusScriptVersion" title="Cardano.Api.Script">AnyPlutusScriptVersion</a> <a href="Cardano-Api-ProtocolParameters.html#t:CostModel" title="Cardano.Api.ProtocolParameters">CostModel</a>) <a href="../base/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TransactionValidityError">Instances</h4><details id="i:TransactionValidityError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TransactionValidityError:Show:1"></span> <a href="../base/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Cardano-Api-Fees.html#t:TransactionValidityError" title="Cardano.Api.Fees">TransactionValidityError</a></span> <a href="src/Cardano.Api.Fees.html#line-423" class="link">Source</a> <a href="#t:TransactionValidityError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TransactionValidityError:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Api-Fees.html">Cardano.Api.Fees</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-Api-Fees.html#t:TransactionValidityError" title="Cardano.Api.Fees">TransactionValidityError</a> -&gt; <a href="../base/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/2afgrvfg7h495x5v3dbkfx469phrchkg-ghc-9.6.2-doc/share/doc/ghc-9.6.2/html/libraries/base-4.18.0.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cardano-Api-Fees.html#t:TransactionValidityError" title="Cardano.Api.Fees">TransactionValidityError</a> -&gt; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/2afgrvfg7h495x5v3dbkfx469phrchkg-ghc-9.6.2-doc/share/doc/ghc-9.6.2/html/libraries/base-4.18.0.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cardano-Api-Fees.html#t:TransactionValidityError" title="Cardano.Api.Fees">TransactionValidityError</a>] -&gt; <a href="../base/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/2afgrvfg7h495x5v3dbkfx469phrchkg-ghc-9.6.2-doc/share/doc/ghc-9.6.2/html/libraries/base-4.18.0.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TransactionValidityError:Error:2"></span> <a href="Cardano-Api-Error.html#t:Error" title="Cardano.Api.Error">Error</a> <a href="Cardano-Api-Fees.html#t:TransactionValidityError" title="Cardano.Api.Fees">TransactionValidityError</a></span> <a href="src/Cardano.Api.Fees.html#line-425" class="link">Source</a> <a href="#t:TransactionValidityError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TransactionValidityError:Error:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Api-Fees.html">Cardano.Api.Fees</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:prettyError">prettyError</a> :: <a href="Cardano-Api-Fees.html#t:TransactionValidityError" title="Cardano.Api.Fees">TransactionValidityError</a> -&gt; <a href="Cardano-Api-Pretty.html#t:Doc" title="Cardano.Api.Pretty">Doc</a> ann <a href="src/Cardano.Api.Error.html#prettyError" class="link">Source</a> <a href="#v:prettyError" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:3" id="g:3"><h1>Transaction balance</h1></a><div class="top"><p class="src"><a id="v:evaluateTransactionBalance" class="def">evaluateTransactionBalance</a> :: <span class="keyword">forall</span> era. <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era -&gt; <a href="Cardano-Api-ReexposeLedger.html#t:PParams" title="Cardano.Api.ReexposeLedger">PParams</a> (<a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyLedgerEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyLedgerEra</a> era) -&gt; Set <a href="Cardano-Api-Certificate.html#t:PoolId" title="Cardano.Api.Certificate">PoolId</a> -&gt; <a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="Cardano-Api-Address.html#t:StakeCredential" title="Cardano.Api.Address">StakeCredential</a> <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a> -&gt; <a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> (<a href="Cardano-Api-ReexposeLedger.html#t:Credential" title="Cardano.Api.ReexposeLedger">Credential</a> <a href="Cardano-Api-ReexposeLedger.html#v:DRepRole" title="Cardano.Api.ReexposeLedger">DRepRole</a> <a href="Cardano-Api-ReexposeLedger.html#t:StandardCrypto" title="Cardano.Api.ReexposeLedger">StandardCrypto</a>) <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a> -&gt; <a href="Cardano-Api-Query.html#t:UTxO" title="Cardano.Api.Query">UTxO</a> era -&gt; <a href="Cardano-Api-TxBody.html#t:TxBody" title="Cardano.Api.TxBody">TxBody</a> era -&gt; <a href="Cardano-Api-TxBody.html#t:TxOutValue" title="Cardano.Api.TxBody">TxOutValue</a> era <a href="src/Cardano.Api.Fees.html#evaluateTransactionBalance" class="link">Source</a> <a href="#v:evaluateTransactionBalance" class="selflink">#</a></p><div class="doc"><p>Compute the total balance of the proposed transaction. Ultimately a valid
 transaction must be fully balanced: that is have a total value of zero.</p><p>Finding the (non-zero) balance of partially constructed transaction is
 useful for adjusting a transaction to be fully balanced.</p></div></div><a href="#g:4" id="g:4"><h1>Automated transaction building</h1></a><div class="top"><p class="src"><a id="v:makeTransactionBodyAutoBalance" class="def">makeTransactionBodyAutoBalance</a> <a href="src/Cardano.Api.Fees.html#makeTransactionBodyAutoBalance" class="link">Source</a> <a href="#v:makeTransactionBodyAutoBalance" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> era. <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-Query.html#t:SystemStart" title="Cardano.Api.Query">SystemStart</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-Query.html#t:LedgerEpochInfo" title="Cardano.Api.Query">LedgerEpochInfo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-ProtocolParameters.html#t:LedgerProtocolParameters" title="Cardano.Api.ProtocolParameters">LedgerProtocolParameters</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Set <a href="Cardano-Api-Certificate.html#t:PoolId" title="Cardano.Api.Certificate">PoolId</a></td><td class="doc"><p>The set of registered stake pools, that are being
   unregistered in this transaction.</p></td></tr><tr><td class="src">-&gt; <a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="Cardano-Api-Address.html#t:StakeCredential" title="Cardano.Api.Address">StakeCredential</a> <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></td><td class="doc"><p>Map of all deposits for stake credentials that are being
   unregistered in this transaction</p></td></tr><tr><td class="src">-&gt; <a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> (<a href="Cardano-Api-ReexposeLedger.html#t:Credential" title="Cardano.Api.ReexposeLedger">Credential</a> <a href="Cardano-Api-ReexposeLedger.html#v:DRepRole" title="Cardano.Api.ReexposeLedger">DRepRole</a> <a href="Cardano-Api-ReexposeLedger.html#t:StandardCrypto" title="Cardano.Api.ReexposeLedger">StandardCrypto</a>) <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></td><td class="doc"><p>Map of all deposits for drep credentials that are being
   unregistered in this transaction</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-Query.html#t:UTxO" title="Cardano.Api.Query">UTxO</a> era</td><td class="doc"><p>Just the transaction inputs, not the entire <code><a href="Cardano-Api-Query.html#t:UTxO" title="Cardano.Api.Query">UTxO</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-TxBody.html#t:TxBodyContent" title="Cardano.Api.TxBody">TxBodyContent</a> <a href="Cardano-Api-TxBody.html#t:BuildTx" title="Cardano.Api.TxBody">BuildTx</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Api-Address.html#t:AddressInEra" title="Cardano.Api.Address">AddressInEra</a> era</td><td class="doc"><p>Change address</p></td></tr><tr><td class="src">-&gt; <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc"><p>Override key witnesses</p></td></tr><tr><td class="src">-&gt; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Api-Fees.html#t:TxBodyErrorAutoBalance" title="Cardano.Api.Fees">TxBodyErrorAutoBalance</a> (<a href="Cardano-Api-Fees.html#t:BalancedTxBody" title="Cardano.Api.Fees">BalancedTxBody</a> era)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>This is much like <code>makeTransactionBody</code> but with greater automation to
 calculate suitable values for several things.</p><p>In particular:</p><ul><li>It calculates the correct script <code><a href="Cardano-Api-Script.html#t:ExecutionUnits" title="Cardano.Api.Script">ExecutionUnits</a></code> (ignoring the provided
   values, which can thus be zero).</li><li>It calculates the transaction fees, based on the script <code><a href="Cardano-Api-Script.html#t:ExecutionUnits" title="Cardano.Api.Script">ExecutionUnits</a></code>,
   the current <code><a href="Cardano-Api-ProtocolParameters.html#t:ProtocolParameters" title="Cardano.Api.ProtocolParameters">ProtocolParameters</a></code>, and an estimate of the number of
   key witnesses (i.e. signatures). There is an override for the number of
   key witnesses.</li><li>It accepts a change address, calculates the balance of the transaction
   and puts the excess change into the change output.</li><li>It also checks that the balance is positive and the change is above the
   minimum threshold.</li></ul><p>To do this it needs more information than <code>makeTransactionBody</code>, all of
 which can be queried from a local node.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BalancedTxBody" class="def">BalancedTxBody</a> era <a href="src/Cardano.Api.Fees.html#BalancedTxBody" class="link">Source</a> <a href="#t:BalancedTxBody" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BalancedTxBody" class="def">BalancedTxBody</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">(<a href="Cardano-Api-TxBody.html#t:TxBodyContent" title="Cardano.Api.TxBody">TxBodyContent</a> <a href="Cardano-Api-TxBody.html#t:BuildTx" title="Cardano.Api.TxBody">BuildTx</a> era)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src">(<a href="Cardano-Api-TxBody.html#t:TxBody" title="Cardano.Api.TxBody">TxBody</a> era)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src">(<a href="Cardano-Api-TxBody.html#t:TxOut" title="Cardano.Api.TxBody">TxOut</a> <a href="Cardano-Api-TxBody.html#t:CtxTx" title="Cardano.Api.TxBody">CtxTx</a> era)</dfn><div class="doc"><p>Transaction balance (change output)</p></div></li><li><dfn class="src"><a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></dfn><div class="doc"><p>Estimated transaction fee</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TxBodyErrorAutoBalance" class="def">TxBodyErrorAutoBalance</a> <a href="src/Cardano.Api.Fees.html#TxBodyErrorAutoBalance" class="link">Source</a> <a href="#t:TxBodyErrorAutoBalance" class="selflink">#</a></p><div class="doc"><p>The possible errors that can arise from <code><a href="Cardano-Api-Fees.html#v:makeTransactionBodyAutoBalance" title="Cardano.Api.Fees">makeTransactionBodyAutoBalance</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TxBodyError" class="def">TxBodyError</a> <a href="Cardano-Api-TxBody.html#t:TxBodyError" title="Cardano.Api.TxBody">TxBodyError</a></td><td class="doc"><p>The same errors that can arise from <code>makeTransactionBody</code>.</p></td></tr><tr><td class="src"><a id="v:TxBodyScriptExecutionError" class="def">TxBodyScriptExecutionError</a> [(<a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a>, <a href="Cardano-Api-Fees.html#t:ScriptExecutionError" title="Cardano.Api.Fees">ScriptExecutionError</a>)]</td><td class="doc"><p>One or more of the scripts fails to execute correctly.</p></td></tr><tr><td class="src"><a id="v:TxBodyScriptBadScriptValidity" class="def">TxBodyScriptBadScriptValidity</a></td><td class="doc"><p>One or more of the scripts were expected to fail validation, but none did.</p></td></tr><tr><td class="src"><a id="v:TxBodyErrorAdaBalanceNegative" class="def">TxBodyErrorAdaBalanceNegative</a> <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></td><td class="doc"><p>There is not enough ada to cover both the outputs and the fees.
 The transaction should be changed to provide more input ada, or
 otherwise adjusted to need less (e.g. outputs, script etc).</p></td></tr><tr><td class="src"><a id="v:TxBodyErrorAdaBalanceTooSmall" class="def">TxBodyErrorAdaBalanceTooSmall</a></td><td class="doc"><p>There is enough ada to cover both the outputs and the fees, but the
 resulting change is too small: it is under the minimum value for
 new UTxO entries. The transaction should be changed to provide more
 input ada.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a href="Cardano-Api-TxBody.html#t:TxOutInAnyEra" title="Cardano.Api.TxBody">TxOutInAnyEra</a></dfn><div class="doc"><p>Minimum UTxO</p></div></li><li><dfn class="src"><a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></dfn><div class="doc"><p>Tx balance</p></div></li><li><dfn class="src"><a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:TxBodyErrorByronEraNotSupported" class="def">TxBodyErrorByronEraNotSupported</a></td><td class="doc"><p><code><a href="Cardano-Api-Fees.html#v:makeTransactionBodyAutoBalance" title="Cardano.Api.Fees">makeTransactionBodyAutoBalance</a></code> does not yet support the Byron era.</p></td></tr><tr><td class="src"><a id="v:TxBodyErrorMissingParamMinUTxO" class="def">TxBodyErrorMissingParamMinUTxO</a></td><td class="doc"><p>The <code><a href="Cardano-Api-ProtocolParameters.html#t:ProtocolParameters" title="Cardano.Api.ProtocolParameters">ProtocolParameters</a></code> must provide the value for the min utxo
 parameter, for eras that use this parameter.</p></td></tr><tr><td class="src"><a id="v:TxBodyErrorValidityInterval" class="def">TxBodyErrorValidityInterval</a> <a href="Cardano-Api-Fees.html#t:TransactionValidityError" title="Cardano.Api.Fees">TransactionValidityError</a></td><td class="doc"><p>The transaction validity interval is too far into the future.
 See <code><a href="Cardano-Api-Fees.html#v:TransactionValidityIntervalError" title="Cardano.Api.Fees">TransactionValidityIntervalError</a></code> for details.</p></td></tr><tr><td class="src"><a id="v:TxBodyErrorMinUTxONotMet" class="def">TxBodyErrorMinUTxONotMet</a></td><td class="doc"><p>The minimum spendable UTxO threshold has not been met.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a href="Cardano-Api-TxBody.html#t:TxOutInAnyEra" title="Cardano.Api.TxBody">TxOutInAnyEra</a></dfn><div class="doc"><p>Minimum UTxO</p></div></li><li><dfn class="src"><a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:TxBodyErrorNonAdaAssetsUnbalanced" class="def">TxBodyErrorNonAdaAssetsUnbalanced</a> <a href="Cardano-Api-Value.html#t:Value" title="Cardano.Api.Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TxBodyErrorScriptWitnessIndexMissingFromExecUnitsMap" class="def">TxBodyErrorScriptWitnessIndexMissingFromExecUnitsMap</a> <a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a> (<a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a> <a href="Cardano-Api-Script.html#t:ExecutionUnits" title="Cardano.Api.Script">ExecutionUnits</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TxBodyErrorAutoBalance">Instances</h4><details id="i:TxBodyErrorAutoBalance" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TxBodyErrorAutoBalance:Show:1"></span> <a href="../base/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Cardano-Api-Fees.html#t:TxBodyErrorAutoBalance" title="Cardano.Api.Fees">TxBodyErrorAutoBalance</a></span> <a href="src/Cardano.Api.Fees.html#line-651" class="link">Source</a> <a href="#t:TxBodyErrorAutoBalance" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TxBodyErrorAutoBalance:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Api-Fees.html">Cardano.Api.Fees</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-Api-Fees.html#t:TxBodyErrorAutoBalance" title="Cardano.Api.Fees">TxBodyErrorAutoBalance</a> -&gt; <a href="../base/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/2afgrvfg7h495x5v3dbkfx469phrchkg-ghc-9.6.2-doc/share/doc/ghc-9.6.2/html/libraries/base-4.18.0.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cardano-Api-Fees.html#t:TxBodyErrorAutoBalance" title="Cardano.Api.Fees">TxBodyErrorAutoBalance</a> -&gt; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/2afgrvfg7h495x5v3dbkfx469phrchkg-ghc-9.6.2-doc/share/doc/ghc-9.6.2/html/libraries/base-4.18.0.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cardano-Api-Fees.html#t:TxBodyErrorAutoBalance" title="Cardano.Api.Fees">TxBodyErrorAutoBalance</a>] -&gt; <a href="../base/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/2afgrvfg7h495x5v3dbkfx469phrchkg-ghc-9.6.2-doc/share/doc/ghc-9.6.2/html/libraries/base-4.18.0.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TxBodyErrorAutoBalance:Error:2"></span> <a href="Cardano-Api-Error.html#t:Error" title="Cardano.Api.Error">Error</a> <a href="Cardano-Api-Fees.html#t:TxBodyErrorAutoBalance" title="Cardano.Api.Fees">TxBodyErrorAutoBalance</a></span> <a href="src/Cardano.Api.Fees.html#line-654" class="link">Source</a> <a href="#t:TxBodyErrorAutoBalance" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TxBodyErrorAutoBalance:Error:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Api-Fees.html">Cardano.Api.Fees</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:prettyError">prettyError</a> :: <a href="Cardano-Api-Fees.html#t:TxBodyErrorAutoBalance" title="Cardano.Api.Fees">TxBodyErrorAutoBalance</a> -&gt; <a href="Cardano-Api-Pretty.html#t:Doc" title="Cardano.Api.Pretty">Doc</a> ann <a href="src/Cardano.Api.Error.html#prettyError" class="link">Source</a> <a href="#v:prettyError" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:5" id="g:5"><h1>Minimum UTxO calculation</h1></a><div class="top"><p class="src"><a id="v:calculateMinimumUTxO" class="def">calculateMinimumUTxO</a> :: <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era -&gt; <a href="Cardano-Api-TxBody.html#t:TxOut" title="Cardano.Api.TxBody">TxOut</a> <a href="Cardano-Api-TxBody.html#t:CtxTx" title="Cardano.Api.TxBody">CtxTx</a> era -&gt; <a href="Cardano-Api-ReexposeLedger.html#t:PParams" title="Cardano.Api.ReexposeLedger">PParams</a> (<a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyLedgerEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyLedgerEra</a> era) -&gt; <a href="Cardano-Api-Value.html#t:Lovelace" title="Cardano.Api.Value">Lovelace</a> <a href="src/Cardano.Api.Fees.html#calculateMinimumUTxO" class="link">Source</a> <a href="#v:calculateMinimumUTxO" class="selflink">#</a></p></div><a href="#g:6" id="g:6"><h1>Internal helpers</h1></a><div class="top"><p class="src"><a id="v:mapTxScriptWitnesses" class="def">mapTxScriptWitnesses</a> :: <span class="keyword">forall</span> era. (<span class="keyword">forall</span> witctx. <a href="Cardano-Api-TxBody.html#t:ScriptWitnessIndex" title="Cardano.Api.TxBody">ScriptWitnessIndex</a> -&gt; <a href="Cardano-Api-Script.html#t:ScriptWitness" title="Cardano.Api.Script">ScriptWitness</a> witctx era -&gt; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Api-Fees.html#t:TxBodyErrorAutoBalance" title="Cardano.Api.Fees">TxBodyErrorAutoBalance</a> (<a href="Cardano-Api-Script.html#t:ScriptWitness" title="Cardano.Api.Script">ScriptWitness</a> witctx era)) -&gt; <a href="Cardano-Api-TxBody.html#t:TxBodyContent" title="Cardano.Api.TxBody">TxBodyContent</a> <a href="Cardano-Api-TxBody.html#t:BuildTx" title="Cardano.Api.TxBody">BuildTx</a> era -&gt; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Api-Fees.html#t:TxBodyErrorAutoBalance" title="Cardano.Api.Fees">TxBodyErrorAutoBalance</a> (<a href="Cardano-Api-TxBody.html#t:TxBodyContent" title="Cardano.Api.TxBody">TxBodyContent</a> <a href="Cardano-Api-TxBody.html#t:BuildTx" title="Cardano.Api.TxBody">BuildTx</a> era) <a href="src/Cardano.Api.Fees.html#mapTxScriptWitnesses" class="link">Source</a> <a href="#v:mapTxScriptWitnesses" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ResolvablePointers" class="def">ResolvablePointers</a> <span class="keyword">where</span> <a href="src/Cardano.Api.Fees.html#ResolvablePointers" class="link">Source</a> <a href="#t:ResolvablePointers" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ResolvablePointers" class="def">ResolvablePointers</a> :: (<a href="../cardano-ledger-api/Cardano-Ledger-Api-Era.html#t:Era" title="Cardano.Ledger.Api.Era">Era</a> (<a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyLedgerEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyLedgerEra</a> era), <a href="../base/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Cardano-Api-ReexposeLedger.html#t:TxCert" title="Cardano.Api.ReexposeLedger">TxCert</a> (<a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyLedgerEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyLedgerEra</a> era))) =&gt; <a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyBasedEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyBasedEra</a> era -&gt; <a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="../cardano-ledger-alonzo/Cardano-Ledger-Alonzo-TxWits.html#t:RdmrPtr" title="Cardano.Ledger.Alonzo.TxWits">RdmrPtr</a> (<a href="../cardano-ledger-alonzo/Cardano-Ledger-Alonzo-Tx.html#t:ScriptPurpose" title="Cardano.Ledger.Alonzo.Tx">ScriptPurpose</a> (<a href="Cardano-Api-Eon-ShelleyBasedEra.html#t:ShelleyLedgerEra" title="Cardano.Api.Eon.ShelleyBasedEra">ShelleyLedgerEra</a> era), <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (PlutusScriptBytes, <a href="../cardano-ledger-core/Cardano-Ledger-Plutus-Language.html#t:Language" title="Cardano.Ledger.Plutus.Language">Language</a>), <a href="../cardano-ledger-api/Cardano-Ledger-Api-Scripts.html#t:ScriptHash" title="Cardano.Ledger.Api.Scripts">ScriptHash</a> <a href="Cardano-Api-ReexposeLedger.html#t:StandardCrypto" title="Cardano.Api.ReexposeLedger">StandardCrypto</a>) -&gt; <a href="Cardano-Api-Fees.html#t:ResolvablePointers" title="Cardano.Api.Fees">ResolvablePointers</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ResolvablePointers">Instances</h4><details id="i:ResolvablePointers" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ResolvablePointers:Show:1"></span> <a href="../base/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Cardano-Api-Fees.html#t:ResolvablePointers" title="Cardano.Api.Fees">ResolvablePointers</a></span> <a href="src/Cardano.Api.Fees.html#line-288" class="link">Source</a> <a href="#t:ResolvablePointers" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ResolvablePointers:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Api-Fees.html">Cardano.Api.Fees</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-Api-Fees.html#t:ResolvablePointers" title="Cardano.Api.Fees">ResolvablePointers</a> -&gt; <a href="../base/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/2afgrvfg7h495x5v3dbkfx469phrchkg-ghc-9.6.2-doc/share/doc/ghc-9.6.2/html/libraries/base-4.18.0.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cardano-Api-Fees.html#t:ResolvablePointers" title="Cardano.Api.Fees">ResolvablePointers</a> -&gt; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/2afgrvfg7h495x5v3dbkfx469phrchkg-ghc-9.6.2-doc/share/doc/ghc-9.6.2/html/libraries/base-4.18.0.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cardano-Api-Fees.html#t:ResolvablePointers" title="Cardano.Api.Fees">ResolvablePointers</a>] -&gt; <a href="../base/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/2afgrvfg7h495x5v3dbkfx469phrchkg-ghc-9.6.2-doc/share/doc/ghc-9.6.2/html/libraries/base-4.18.0.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.28.0</p></div></body></html>